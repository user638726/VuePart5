import{c as d,o as n,a,w as p,v as g,b as _,d as c,F as k,r as f,e as T,t as u,n as v,f as D}from"./index-Cd8M0N65.js";const m={name:"TodoApp",data(){return{inputText:"",toggleStatus:"all",todoData:[],tabs:[{label:"全部",value:"all"},{label:"待完成",value:"work"},{label:"已完成",value:"done"}]}},computed:{filteredTodos(){return this.toggleStatus==="work"?this.todoData.filter(e=>e.checked===""):this.toggleStatus==="done"?this.todoData.filter(e=>e.checked==="checked"):this.todoData},remaining(){return this.todoData.filter(e=>e.checked==="").length}},methods:{addTodo(){this.inputText.trim()!==""&&(this.todoData.unshift({txt:this.inputText,id:Date.now(),checked:""}),this.inputText="")},deleteTodo(e){this.todoData=this.todoData.filter(o=>o.id!==e)},deleteCompleted(){this.todoData=this.todoData.filter(e=>e.checked!=="checked")},changeTab(e){this.toggleStatus=e}},mounted(){const e=localStorage.getItem("todoData");if(e)try{this.todoData=JSON.parse(e)}catch(o){console.error("讀取 localStorage 失敗",o)}},watch:{todoData:{handler(e){localStorage.setItem("todoData",JSON.stringify(e))},deep:!0}}},x=(e,o)=>{const r=e.__vccOpts||e;for(const[h,s]of o)r[h]=s;return r},b={class:"container"},S={class:"card input"},C={class:"card card_list"},y={class:"tab"},w=["data-tab","onClick"],V={class:"cart_content"},O={class:"list"},N={class:"checkbox"},B=["onUpdate:modelValue"],I=["onClick"],M={class:"list_footer"};function U(e,o,r,h,s,l){return n(),d("div",b,[o[5]||(o[5]=a("h1",null,"TODO LIST",-1)),a("div",S,[p(a("input",{type:"text",placeholder:"請輸入待辦事項","onUpdate:modelValue":o[0]||(o[0]=t=>s.inputText=t),onKeypress:o[1]||(o[1]=_((...t)=>l.addTodo&&l.addTodo(...t),["enter"]))},null,544),[[g,s.inputText]]),a("a",{href:"#",class:"btn_add",onClick:o[2]||(o[2]=c((...t)=>l.addTodo&&l.addTodo(...t),["prevent"]))},"+")]),a("div",C,[a("ul",y,[(n(!0),d(k,null,f(s.tabs,t=>(n(),d("li",{key:t.value,"data-tab":t.value,class:v({active:s.toggleStatus===t.value}),onClick:i=>l.changeTab(t.value)},u(t.label),11,w))),128))]),a("div",V,[a("ul",O,[(n(!0),d(k,null,f(l.filteredTodos,t=>(n(),d("li",{key:t.id},[a("label",N,[p(a("input",{type:"checkbox","onUpdate:modelValue":i=>t.checked=i,"true-value":"checked","false-value":""},null,8,B),[[D,t.checked]]),a("span",{class:v({"line-through":t.checked==="checked"})},u(t.txt),3)]),a("a",{href:"#",class:"delete",onClick:c(i=>l.deleteTodo(t.id),["prevent"])},null,8,I)]))),128))]),a("div",M,[a("p",null,[a("span",null,u(l.remaining),1),o[4]||(o[4]=T(" 個待完成項目",-1))]),a("a",{href:"#",onClick:o[3]||(o[3]=c((...t)=>l.deleteCompleted&&l.deleteCompleted(...t),["prevent"]))},"清除已完成項目")])])])])}const J=x(m,[["render",U]]);export{J as default};
